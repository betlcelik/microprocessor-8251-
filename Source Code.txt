
CODE    SEGMENT PARA 'CODE'
	ORG 100H
        ASSUME CS:CODE, DS:CODE, SS:CODE
START:
	JMP BASLA
	LETTERS DB 42H,45H,54H,55H,04CH    ;HARFLERİN ASCII TABLOSUNDAKİ DEĞERLERİNİ BİR DİZİDE TUTUYORUZ
	
BASLA:	
	
	MOV DX, 0302h
	MOV AL, 01001101B  
	OUT DX, AL  ; MOD YAZMACINDA ASENKRON 9600 BOUND
	
	MOV AL, 40H   ;0100 0000 KONTROL YAZMACINDA RESET İŞLEMİ
	OUT DX, AL
	
	MOV AL, 01001101B  ;MOD YAZMACI ASENKRON 9600 8 BİTLİK 1 STOP BİTİ NO PARİTY 
	OUT DX, AL
	
	MOV AL, 00010101B  ; KONTROL YAZMACI HATA BİTLERİ TEMİZLENİR RECEİVE VE TRANSMİT MODU AYARLANIYOR
	OUT DX, AL
	
	 
ENDLESS:
	MOV DX, 0302H   
TEKRAR:
	IN AL, DX      
	AND AL, 02H   ; STATÜS YAZMACINDA RECEİVE İÇİN HAZIR OLUP OLMADIĞI KONTROL EDİLİYOR
	JZ TEKRAR      ;HAZIR OLANA KADAR SÜREKLİ KONTROL SAĞLANIYOR
	
			;RECİVE İÇİN HAZIRL OLDUĞUNDA 
	MOV DX, 0300H   ;VERİ YAZMACI ADRESİNE GİDİLİYOR
	IN AL, DX	;KULLANICIDAN İNPUT ALINIYOR
	SHR AL,1
	MOV AH,00H
	AND AX,000FH     ;ALDIĞIMIZIN İNPUUTUN ASCII TABLOSUNA GÖRE KARŞILIK GELDİĞİ DEĞERİ BULUYORUZ
	MOV CX,AX      ;DÖNGÜDE KULLANAK ÜZERE İNPUT DEĞERİNİ CX YAZMACINA ATIYORUZ 
	
	
L:	XOR SI ,SI    ;DİZİ ELEMANLARINI GEZMEMİZİ SAĞLAYACAK SI İNDİSİNİ İLK HARFTEN BAŞLAMSI İÇİN SIFIRLIYORUZ
TEKRAR2:
	MOV DX, 0302H
	IN AL, DX
	AND AL, 01H ;STATÜS YAZMACINDA TRANSMİT İÇİN HAZIR OLUP OLMADIĞINI KONTROL EDİYORUZ
	JZ TEKRAR2 ; HAZIR OLANA KADAR KONTROL İŞLEMİ DEVAM EDİYOR7
	
		       ;TRANSMİT İÇİN HAZIR OLDUĞUNDA
	MOV DX, 0300H  ; VERİ YAZMACINA ULAŞIYORUZ
	MOV AL, LETTERS[SI] 
	OUT DX, AL      ;DİZİDEKİ HARFLERİ EKRANA YAZDIRIYORUZ
	
	INC SI
	CMP SI,05H      
	JNZ TEKRAR2    ;TÜM DİZİYİ GEZENE KADAR DÖNGÜNÜN DEVAM ETMESİNİ SAĞLIYOR
	LOOP L	;KULLANICIDAN ALDIĞIMIZ DEĞER KADAR DÖNGÜNÜN DEVAM ETMESİNİ SAĞLIYOR
	
	
        JMP ENDLESS
CODE    ENDS
        END START